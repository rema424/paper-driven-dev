# ロードマップ（2026-02-20 改訂）

## 現在地（最終更新: 2026-02-20）

**Phase 2: フルペーパー化 — Step 2.2 Run 1 完了直後**

```
Phase 0: Bootstrap                    ✅ 完了
Phase 1: 投稿前改訂                    ✅ 完了（Workshop/短報レベル）
Phase 2: フルペーパー化                 ⏳ Step 2.2 作業中
  Step 2.0: 研究計画の固定              ✅
  Step 2.1: D条件の設計と予備実験        ✅
  Step 2.2: N拡張実験（GPT-5.2）        ⏳ Run 1/5 完了
  Step 2.3: 第三者盲検評価              ⬚ 未着手
  Step 2.4: 外的妥当性の確保            ⬚ 未着手
  Step 2.5: 差別化強化                  ⬚ 未着手
  Step 2.6: 論文の全面改訂              ⬚ 未着手
  Step 2.7: 投稿                       ⬚ 未着手
```

- 最新コミット: `7bd8dcb data: Step 2.2 Run 1 の実験出力を実データで更新`
- タグ: `v0-draft`（`ad30111`）、`v1-protocol`（Step 2.0 固定）
- ブランチ: `main`（リモートに 52 コミット未プッシュ）
- co-primary 指標: conflicting requirements, testable properties（2指標）
- constraints disclosed: exploratory に降格（再採点一致率 30%）

### 次のアクション

1. **Step 2.2 Run 2〜5 を実行**（残り 32 回の LLM 実行）
2. 全出力の著者採点（ルーブリック v2）
3. 統計分析（Kruskal-Wallis + post-hoc、効果量、信頼区間）

### 実験出力の現状（`docs/examples/fullpaper/`）

| ファイル | Run 1 | Run 2 | Run 3 | Run 4 | Run 5 |
|----------|-------|-------|-------|-------|-------|
| cs1-conventional | ✅ | ⬚ | ⬚ | ⬚ | ⬚ |
| cs1-paper-format | ✅ | ⬚ | ⬚ | ⬚ | ⬚ |
| cs1-pdd-template | ✅ | ⬚ | ⬚ | ⬚ | ⬚ |
| cs1-checklist | ✅ | ⬚ | ⬚ | ⬚ | ⬚ |
| cs2-conventional | ✅ | ⬚ | ⬚ | ⬚ | ⬚ |
| cs2-paper-format | ✅ | ⬚ | ⬚ | ⬚ | ⬚ |
| cs2-pdd-template | ✅ | ⬚ | ⬚ | ⬚ | ⬚ |
| cs2-checklist | ✅ | ⬚ | ⬚ | ⬚ | ⬚ |

---

## Phase 0: Bootstrap ✅

（省略。初期監査・タグ作成。）

## Phase 1: 投稿前改訂 ✅

### 完了済みの主要マイルストーン

| Step | 内容 | 状態 |
|------|------|------|
| 1.1 | 論証構造の修正（主張リフレーミング、交絡因子、メタ情報） | ✅ |
| 1.2a | 3条件比較 + B バリアント実験 + 論文全面改訂 | ✅ |
| 1.2c | 多モデル観察の記述 | ✅ |
| 1.3 | 体裁・品質改善 | ✅ |
| 1.4 | 完成度評価（CC×Codex）→ P0 アクション4件完了 | ✅ |
| 1.5 | constraints disclosed の exploratory 再分類 | ✅ |
| 1.6 | S6 Related Work 拡充（+3参考文献） | ✅ |
| 1.7 | article-draft.md への再採点結果反映 | ✅ |

### 未着手（Phase 2 に統合）

| Step | 内容 | 移行先 |
|------|------|--------|
| 1.2b | 強化版 Before プロンプト（CoT + ペルソナ）との比較 | Phase 2 Step 2.5 |

---

## Phase 2: フルペーパー化 ⏳

CC×Codex 議論（2026-02-20）の合意に基づく。
議論記録: `.internal/docs/discussion-2026-02-20-fullpaper-roadmap.md`

### 要件分類

| 分類 | 項目 |
|------|------|
| **必須** | 研究計画固定（Step 2.0）、D 条件（Step 2.1）、N≥5（Step 2.2）、第三者盲検（Step 2.3） |
| **準必須** | 外的妥当性1軸: 追加1モデル or 追加1ドメイン（Step 2.4） |
| **強く推奨** | 外的妥当性2軸の両達成、下流アウトカム1指標（Step 2.5） |
| **望ましい** | 強化版プロンプト比較、コスト効率分析（Step 2.5） |

### Step 2.0: 研究計画の固定 ✅

**目的**: 事後的な仮説変更・分析恣意性への防御。

- [x] 仮説を形式化（H_main, H_framing, H_checklist）
- [x] 評価ルーブリック v2 を策定（具体例・判定フロー・3要素必須ルール付き）
- [x] 実験プロトコルを文書化（4条件 × 2CS × 5回 = 40実行）
- [x] 盲検手順を文書化（単盲検、ICC/Krippendorff α、条件推定記録）
- [x] D 条件のプロンプトを設計（C と同型の粒度、フレーミングのみ差異）
- [x] 統計解析を二本立てに設計（外在化効果 + フレーミング効果）
- [x] Codex レビュー2ラウンド完了（6点+7点の指摘に対応）
- [x] タイムスタンプ付きで固定: `v1-protocol` タグ（2026-02-20）
- [ ] （可能であれば）OSF に事前登録

成果物: `paper/protocol-v1.md`

**完了条件**: ✅ プロトコルが Git tag で固定。

---

### Step 2.1: D 条件の設計と予備実験 ✅

**目的**: テンプレート効果を論文形式効果から分離。

- [x] D 条件プロンプトの最終化（Step 2.0 で設計、Codex レビュー済み）
- [x] 予備実行（CS1・CS2 各1回）で D 条件の出力を確認
- [x] D 条件がチェックリスト項目に応答しているか定性的に確認
  - 両ケーススタディとも全9項目に応答
  - co-primary 指標が出現（矛盾する要求: 4/4、テスト条件: 5/5）
  - C 条件と同等レベルの分析深度
- [x] プロンプト調整は不要と判断

成果物: `docs/examples/fullpaper/pilot/cs{1,2}-checklist-pilot1.md`

**完了条件**: ✅ D 条件プロンプトが安定し、有意義な出力が得られることを確認。

**予備的観察**（本解析前の注意）:
D 条件の予備出力は C 条件（Phase 1）と同等の co-primary 指標を示した。本実験（N=5）で D ≈ C が確認された場合、主張は「テンプレート効果（論文形式の付加価値）」から「情報外在化効果（構造化要求の効果）」に重心が移る可能性がある。この方向転換はプロトコル §9.1 の中止基準で想定済み。

---

### Step 2.2: N 拡張実験（GPT-5.2） ⏳

**目的**: within-condition variability の測定と統計的検定の実施。

- [ ] 4条件（A/B/C/D）× 2ケーススタディ × 5回 = 40 回の LLM 実行
  - 各実行は独立した新規スレッドで実施
  - 温度パラメータ: デフォルト（Step 2.0 で固定）
- [ ] 全出力を `docs/examples/fullpaper/` に保存
  - 命名規則: `cs{1,2}-{condition}-run{1-5}.md`
- [ ] 著者による1次採点（co-primary 2指標 + secondary 指標）
  - ルーブリック v2 に基づく
  - 全採点を `paper/scoring-data.md` に記録
- [ ] 条件間比較の統計分析
  - 非パラメトリック検定（Kruskal-Wallis + post-hoc）または permutation test
  - 効果量の算出
  - 信頼区間の推定
- [ ] 結果を `paper/comparison-data.md` に追記

**完了条件**: 40回の実行完了、全出力の採点完了、統計分析完了。

---

### Step 2.3: 第三者盲検評価 ⏳

**目的**: 著者評価バイアスの排除、inter-rater reliability の確立。

- [ ] 評価者の募集（2名以上）
  - SE またはソフトウェア開発の経験者
  - 論文の内容を事前に知らない人物が望ましい
  - 謝礼の明示（少額でも）
- [ ] 評価パッケージの作成
  - ルーブリック v2（定義 + 計数基準 + 具体例 2-3 件）
  - 採点シート（テンプレート）
  - 手順書（所要時間 60-90 分の見積もり）
- [ ] 校正ラウンド
  - 3-5 件の出力で練習採点
  - 不一致箇所の議論と合意形成
  - ルーブリック v2 の微調整（理由を記録）
- [ ] 本番盲検
  - 40 件の出力から条件ラベルを除去
  - ランダム順に並べ替え
  - 各評価者が独立して co-primary 2指標を採点
- [ ] Cohen's κ の算出
  - 合格基準: κ ≥ 0.60（moderate agreement 以上）
  - 未達の場合: ルーブリック再校正 → 再採点
- [ ] 評価者間の不一致分析と記録

**完了条件**: κ ≥ 0.60 達成、盲検採点データの完備。

**Go/No-Go → Step 2.4**: κ 基準達成。未達ならルーブリック再校正して再試行。

---

### Step 2.4: 外的妥当性の確保（準必須） ⏳

**目的**: 効果が GPT-5.2 / 2ドメインに限定されないことの最小限の証拠。

**オプション A: 追加1モデル**（推奨）
- [ ] Claude Sonnet 4.6 または Gemini で同一実験（4条件 × 2CS × 5回）
- [ ] 同一ルーブリック v2 で著者採点
- [ ] 効果方向の再現確認（co-primary 2指標が C でのみ非ゼロ）

**オプション B: 追加1ドメイン**
- [ ] 新しいケーススタディ（例: 認証システム設計、キャッシュ戦略）を設計
- [ ] GPT-5.2 で 4条件 × 5回 を実行
- [ ] 同一ルーブリック v2 で採点

**完了条件**: 少なくとも1軸で効果方向の再現を確認。

**Go/No-Go → 論文執筆**: 再現確認。未達なら主張を限定（「GPT-5.2 の2ドメインに限定」）するか追加実験。

---

### Step 2.5: 差別化強化（強く推奨 / 望ましい） ⏳

以下は採択確率を高めるための追加実験。フルペーパーの最低ラインは Step 2.4 で達成。

**強く推奨**:
- [ ] 外的妥当性の第2軸（Step 2.4 で未実施の方）
- [ ] 下流アウトカム1指標
  - PDD 分析に基づく実装 vs 通常実装のテストカバレッジ比較
  - またはバグ率の比較（小規模パイロット）
- [ ] 行あたり正規化（co-primary 指標 / 出力行数）

**望ましい**:
- [ ] 強化版プロンプト比較（CoT + ペルソナ）— 旧 Step 1.2b
- [ ] コスト効率分析（テンプレート準備コスト vs 得られる分析品質の向上）

---

### Step 2.6: 論文の全面改訂 ⏳

- [ ] 実験セクション（S4）を全面書き換え
  - 4条件比較（A/B/C/D）
  - N≥5 の統計分析結果
  - 第三者盲検の κ 統計
  - 外的妥当性の結果
- [ ] 方法論セクション（S3）の更新
  - 評価ルーブリック v2 の記述
  - D 条件の定義
  - 盲検手順の記述
- [ ] 議論セクション（S5）の更新
  - D 条件の結果に基づくテンプレート効果 vs チェックリスト効果の議論
  - 統計的所見の議論
  - 外的妥当性の議論
- [ ] 限界セクション（S5.5）の更新
  - 解消された限界の除去
  - 残存する限界の明記
- [ ] Appendix の更新
  - 全出力データへの参照
  - 盲検採点データ
  - 統計分析の詳細

---

### Step 2.7: 投稿 ⏳

- [ ] 投稿先（venue）の決定
  - SE系: ICSE, FSE, ASE, ESEC/FSE, TOSEM, TSE
  - 投稿先の形式規定に合わせたフォーマット調整
- [ ] 最終ドラフトの通読
- [ ] v2-submitted タグを作成
- [ ] push

```bash
git tag -a v2-submitted -m "v2 [venue] フルペーパー投稿版 (YYYY-MM-DD)"
git push origin main --tags
```

---

## Phase 3: 査読受領（将来）

```bash
git tag v2-reviews
git checkout -b revision/v3
mkdir -p paper/reviews/v2
```

## Phase 4: 改訂作業（将来）

revision/v3 ブランチ上で各コメントに対応。

## Phase 5: 改訂版投稿（将来）

```bash
git checkout main
git merge --no-ff revision/v3 -m "merge: v3 改訂版 - 全査読コメントへの対応を統合"
git tag -a v3-submitted -m "v3 [venue] 改訂版投稿 (YYYY-MM-DD)"
git push origin main --tags
```

---

## 評価見込み

| マイルストーン | 想定レベル |
|---------------|-----------|
| Phase 1 完了（現状） | Workshop ✅ / 短報 ✅ |
| Step 2.0-2.3 完了（内的妥当性） | フルペーパー最低ライン（限定主張） |
| Step 2.4 完了（外的妥当性1軸） | フルペーパー安全ライン |
| Step 2.5 完了（差別化） | フルペーパー競争力あり |

---

## 実行上の注意（ソロ研究者向け）

1. **第三者評価者は早期に確保**: Step 2.0 の段階で2名に打診。評価パッケージを先に作り、依頼時に所要時間を明示。
2. **各フェーズ末で go/no-go 判定**: 過剰拡張を防ぐ。Step 2.3 で κ < 0.60 なら先に進まずルーブリック再校正。
3. **実験実行の自動化**: LLM 実行と集計はスクリプト化。手作業は採点運営に集中。
4. **中止基準**: D 条件で C と同等の指標が出た場合、テンプレート効果の主張は成立しない。その場合は方向転換（チェックリスト効果の研究に切り替え等）を検討。
