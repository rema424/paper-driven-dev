# 使い方ガイド

## 論文駆動開発とは

論文駆動開発（Paper-Driven Development）は、LLM に学術論文の形式で技術文書を書かせることで、高品質な設計分析を引き出す手法です。

論文形式を指示するだけで、以下が**指示しなくても自然に出現**します:

1. **体系的な先行事例調査** — 既存アプローチを網羅的に列挙・比較する
2. **各手法の批判的評価** — 利点だけでなく限界を明示する
3. **提案の形式的正当化** — 不変条件や前提を明確にする
4. **検証可能な性質の定義** — テスト条件として導出できる具体的な性質を記述する

## いつ使うか

以下のような場面で効果的です:

- 複数のアプローチが考えられる設計問題
- パフォーマンスや UX のトレードオフ分析が必要な場面
- 既存実装の根本的な設計変更を検討する場面

**使わなくてよい場面:**

- 単純な機能追加やバグ修正
- 設計の選択肢が1つしかない場合
- 実装方針が既に決まっている場合

## インストール

### Claude Code Plugin として使う

```shell
# マーケットプレイスを追加
/plugin marketplace add rema424/paper-driven-dev

# プラグインをインストール
/plugin install paper-driven-dev@rema424-paper-driven-dev
```

### ローカルで試す

```shell
# リポジトリをクローン
git clone https://github.com/rema424/paper-driven-dev.git

# プラグインディレクトリを指定して Claude Code を起動
claude --plugin-dir ./paper-driven-dev
```

## 使い方

### 基本

```shell
/paper-driven-dev:article RAGシステムでストリーミング中に引用番号をリアルタイムで正しく表示する方法
```

これにより、カレントディレクトリに `article.md` が生成されます。

### research.md との連携

事前に `/research` 等で調査結果を `research.md` にまとめておくと、スキルがそれを入力コンテキストとして読み込み、より精度の高い分析を生成します。

```shell
# 1. 調査を実施（プロジェクト固有のコマンドがある場合）
/research 認証システムのセッション管理方式

# 2. 調査結果を踏まえて論文形式で分析
/paper-driven-dev:article 認証システムのセッション管理方式の選定
```

## 生成される文書の構造

```
§1. 問題定義
  §1.1 背景
  §1.2 矛盾する要求（対立するトレードオフ）
  §1.3 本文書の範囲

§2. 現状のアーキテクチャと制約

§3. 既存アプローチとその限界
  §3.N アプローチ N: [名前] — 手法 / 利点 / 限界

§4. 問題の本質

§5. 提案手法
  §5.1 基本原理
  §5.2 実装アーキテクチャ

§6. 検証可能な性質

§7. 制約と今後の課題
```

### 各セクションのポイント

| セクション | 役割 | チェックポイント |
| --- | --- | --- |
| §1.2 | トレードオフの特定 | 本当に矛盾する要求が2つ以上あるか |
| §3 | 既存手法の批判的分析 | 各手法の限界が具体的に記述されているか |
| §4 | 問題の本質の蒸留 | なぜ既存手法では不十分なのかが明確か |
| §5 | 提案手法 | §1.2 のトレードオフに対処しているか |
| §6 | テスト条件の導出 | Given/When/Then 形式で書けるか |
| §7 | 限界の正直な告白 | 前提や未解決の問題が明示されているか |

## なぜ効くのか（3つの仮説）

効果の因果関係は検証困難ですが、以下の仮説が考えられます:

1. **学習データ品質仮説**: 学術論文は査読済みの高品質データであり、LLM が論文形式のパターンマッチで高品質出力を生成する
2. **暗黙的 CoT 効果**: 論文形式が「問題定義→分析→提案」の順序を強制し、Chain-of-Thought として機能する
3. **ペルソナ効果**: 「論文を書け」が暗黙的に「研究者として分析せよ」というペルソナ指定として機能する

## サンプル

- [RAG 引用リナンバリング問題](examples/citation-rendering.md) — ストリーミング中の引用番号リアルタイム描画に関する設計分析
- [セッション管理方式の選定](examples/session-management.md) — マルチテナント SaaS における認証設計分析

## 関連手法との違い

| 手法 | 焦点 | 論文駆動開発との違い |
| --- | --- | --- |
| Spec-Driven Development（Kiro/AWS） | 「何を作るか」の明確化 | 論文駆動は「なぜそう作るか」の批判的分析 |
| Amazon Six-Pager / PR FAQ | 顧客視点からの逆算 | 論文駆動は既存手法の批判的検証を含む |
| RFC / ADR | 設計判断の記録 | 論文駆動は分析プロセス自体を構造化 |
| Design Doc | 実装寄りの設計文書 | 論文駆動は分析寄り、Related Work が構造的に強制 |
