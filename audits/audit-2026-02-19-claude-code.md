# 論文成果物 総合監査（2026-02-19, Claude Code / Opus 4.6）

## 監査対象ファイル

| # | ファイル | 役割 |
|---|---------|------|
| 1 | `paper/paper-driven-dev.md` | 学術論文ドラフト（英語） |
| 2 | `paper/comparison-data.md` | 定量比較データ |
| 3 | `README.md` | プロジェクト概要 |
| 4 | `docs/guide.md` | 使い方ガイド |
| 5 | `docs/note/article-draft.md` | note 記事ドラフト（日本語） |
| 6 | `docs/examples/citation-rendering.md` | RAG 引用サンプル（After） |
| 7 | `docs/examples/citation-rendering-before.md` | RAG 引用サンプル（Before） |
| 8 | `docs/examples/citation-rendering-comparison.md` | Before/After 比較解説 |
| 9 | `docs/examples/session-management.md` | セッション管理サンプル（After） |
| 10 | `docs/examples/session-management-before.md` | セッション管理サンプル（Before） |
| 11 | `skills/article/SKILL.md` | スキルテンプレート |

先行監査: `audits/audit-2026-02-19-codex.md`（Codex/o3 による監査）を参照済み。本監査はそれと独立した視点で実施し、特に**論理構造・論証の妥当性**に重点を置く。

---

## Round 1: 初回監査

### 指摘一覧（重大度順）

#### 指摘 1（Critical）: 循環論法 — テンプレートが要求するものを「自然に出現する」と主張

**観点**: 論旨の一貫性 / 主張と根拠の対応

論文の核心的主張は「論文形式で聞くだけで、4つの行動が**指示しなくても自然に出現する**」（README.md:5, docs/guide.md:7, paper/paper-driven-dev.md:11-16）である。

しかし、実際に使用されるスキルテンプレート（skills/article/SKILL.md）は以下を**明示的に指示**している:

- §3: "List **at least 3 approaches**"（SKILL.md:57）
- §6: "Define **testable properties**"（SKILL.md:68）
- §6: "Given/When/Then" 形式を要求（SKILL.md:69）
- §1.2: "at least two conflicting requirements" を要求（SKILL.md:50）

つまり「自然に出現する」とされる4つの行動は、テンプレートが**直接要求**している。PDD の出力がこれらを含むのは、テンプレートの指示に従った結果であり、「論文形式だから自然に出現した」とは言えない。

これは論文の中心的主張を根底から揺るがす循環論法である。

#### 指摘 2（Critical）: 交絡因子の未分離 — 「論文形式」の効果 vs 「詳細テンプレート」の効果

**観点**: 主張と根拠の対応

論文は「論文形式」が品質向上の原因だと主張するが、実際に比較されているのは:

- **Before**: 1行の汎用プロンプト（「設計分析と解決策を提案してください」）
- **After**: 7セクション・詳細ガイドライン付きテンプレート

この比較では以下が分離できない:
1. 「論文」というフレーミングの効果
2. 詳細なセクション構造の効果
3. 各セクションの具体的指示（「限界を書け」「3つ以上列挙」等）の効果

同じ §1-§7 テンプレートを「設計文書」と呼んで使った場合に品質が下がるのか？下がらないなら、効いているのは「論文形式」ではなく「構造化テンプレート」である。論文は §5.2 で "Let Me Speak Freely?" 研究に言及し「moderate structure」の効果に触れるが、自身の実験がこの交絡を分離していないことを十分に認識していない。

#### 指摘 3（High）: Before プロンプトの意図的な弱さ

**観点**: 主張と根拠の対応 / 図表・例示の適切性

Before（通常プロンプト）は意図的に最弱の比較対象になっている:

- citation-rendering-before.md: 「この問題の設計分析と解決策を提案してください」（1行）
- session-management-before.md: 問題文 + 4要件（構造なし）

公平な比較には、以下のような対照群が必要:
- CoT プロンプト:「ステップバイステップで考えて」
- ペルソナプロンプト:「あなたはシニアアーキテクトです」
- 構造化プロンプト（非論文形式）:「代替案を3つ、各案の限界、テスト条件を含めて」

comparison-data.md:88 がこの問題を認めているが（"The conventional prompt was not optimized"）、Before/After の比較表やブログ記事ではこの注意書きが目立たない。読者は「通常プロンプト vs PDD」を公平な比較と誤解しやすい。

#### 指摘 4（High）: 実験条件の文書間不整合

**観点**: 文書間整合性

| 文書 | モデル | サンプル数 |
|------|--------|-----------|
| paper/paper-driven-dev.md:170,173 | Claude | N=1 |
| paper/comparison-data.md:5,50 | OpenAI o3 | N=2 |
| docs/note/article-draft.md:128,139 | 不明 | N=1 |

同一リポジトリ内の成果物が異なる実験条件に基づいているが、それが明示されていない。読者は単一の実験セットと解釈する。

（Codex 監査の指摘1と同一。独立に確認。）

#### 指摘 5（High）: 「PDD は正しい答えを見つける助けにはならない」は過剰な一般化

**観点**: 論旨の一貫性

paper/paper-driven-dev.md:198:
> paper format does not help LLMs find better answers (both conventional and PDD prompting reached the same solution in our case study)

N=2 のケーススタディで「たまたま同じ結論に至った」ことから「PDD は答えの質を向上させない」と一般化するのは論理的に不正。

- N=2 は統計的に意味のあるサンプルサイズではない
- 両ケースが「比較的明確な最適解がある問題」だった可能性がある
- より複雑な問題では、代替案の網羅的分析（§3）が異なる結論に導く可能性を排除できない

「本ケーススタディでは同じ結論に至った」と限定すべき。

#### 指摘 6（Medium）: 主張強度と証拠強度の不釣り合い

**観点**: 主張と根拠の対応

- README.md:3 「品質が**劇的に**上がる」
- docs/note/article-draft.md:1 「品質が**劇的に**上がる」
- docs/note/article-draft.md:13 「LLM の出力が**劇的に**変わります」

N=2・著者評価・単一モデルの結果に対して「劇的」は過大表現。

（Codex 監査の指摘2と同一。独立に確認。）

#### 指摘 7（Medium）: §6 記法の不統一

**観点**: 用語・表記の統一性

- SKILL.md:69 が Given/When/Then を要件化
- session-management.md:121-139 は準拠
- citation-rendering.md:250-260 は性質列挙形式で非準拠

「PDD テンプレートの品質」を訴求するサンプルが、テンプレート自身の規約に違反している。

（Codex 監査の指摘4と同一。独立に確認。）

#### 指摘 8（Medium）: README のリンク不完全

**観点**: 文書間整合性

README.md:60 のサンプルリンクは RAG 引用のみ:
> `[サンプル: RAG 引用リナンバリング](docs/examples/citation-rendering.md)`

しかし guide.md:117-118 では両サンプルをリンクしている。セッション管理サンプルが README から発見できない。

#### 指摘 9（Medium）: ロードマップの鮮度

**観点**: 文書間整合性

README.md:64-67 の TODO リストに、既に実施済みの項目が残っている:
- "異なるドメインでのサンプル追加" → session-management.md が存在
- "Before/After の定量比較" → comparison-data.md が存在
- "学術論文ドラフトの執筆" → paper-driven-dev.md が存在

（Codex 監査の指摘6と同一。独立に確認。）

#### 指摘 10（Low）: 定量比較の行数カウント基準が未定義

**観点**: 主張と根拠の対応

comparison-data.md の「Total lines」が何を含むか（ヘッダ、空行、プロンプト部分、注釈行）が明示されていない。第三者が再計算できない。

（Codex 監査の指摘3と同一。独立に確認。）

#### 指摘 11（Low）: 参考文献の種別混在

**観点**: 引用・参考文献の整合性

paper/paper-driven-dev.md の参考文献 [1]-[8] に、査読済み論文（[1],[2]）、実務ブログ（[3],[4],[5]）、解説サイト（[7],[8]）が区別なく並んでいる。

（Codex 監査の指摘5と同一。独立に確認。）

---

### Round 1 の独自発見（Codex 監査で未検出の指摘）

Codex 監査（audit-2026-02-19-codex.md）との差分:

| 指摘 | 本監査 | Codex 監査 |
|------|--------|-----------|
| 1. 循環論法 | **新規発見** | 未検出 |
| 2. 交絡因子の未分離 | **新規発見** | 未検出 |
| 3. Before プロンプトの弱さ | **新規発見**（Codex は Threats to Validity での言及を確認したが、独立指摘として取り上げていない） | 部分的 |
| 5. 過剰な一般化 | **新規発見** | 未検出 |
| 4,6,7,8,9,10,11 | 独立確認 | 既出 |

---

## Round 2: 深掘り

### 指摘 1 深掘り: 循環論法の検証

**検証方法**: SKILL.md のテンプレート指示と、論文が主張する「自然に出現する4つの行動」の対応を精密に突合する。

| 論文が主張する「自然に出現する行動」 | SKILL.md の明示的指示 | 判定 |
|-------------------------------------|----------------------|------|
| (1) 既存手法の網羅的調査 | "List **at least 3 approaches**" (L57) | **テンプレートが直接要求** |
| (2) 各手法の批判的評価（限界の明示） | "its **specific limitations**" (L58) | **テンプレートが直接要求** |
| (3) 提案の形式的正当化 | "must address the trade-offs identified in §1.2" (L64) | **テンプレートが間接的に誘導** |
| (4) テスト可能な性質の定義 | "Define **testable properties**" (L68), "Given/When/Then" (L69) | **テンプレートが直接要求** |

4つ中3つがテンプレートの直接指示、1つが間接的誘導。「指示しなくても自然に出現する」という主張は**事実と矛盾する**。

**ただし**、論文の主張を好意的に解釈すると、2つの異なるレイヤーがある:
1. **「論文を書け」という一言プロンプトだけでも**、テンプレートなしで、ある程度これらの行動が出現する（これが本来の発見）
2. **テンプレートで品質を安定させる**（これが実用ツールとしての貢献）

問題は、この2つのレイヤーが文書内で混同されている点にある。README.md や article-draft.md は「論文を書けと言うだけで」という1のレイヤーで訴求しているが、実際のツール（SKILL.md）は2のレイヤーで動作する。サンプル文書も2のレイヤーの出力である。

**深掘り結論**: 主張自体が完全に誤りとは言えないが、提示されているエビデンス（テンプレート経由の出力）では主張を裏付けられない。テンプレートなしの「論文を書け」一言プロンプトの出力を別途提示する必要がある。

### 指摘 2 深掘り: 交絡因子の分離可能性

**検証方法**: 論文の3仮説（H1-H3）が交絡因子をどの程度認識しているかを確認。

- H1（学習データ品質）: 「論文形式」の効果を主張 → テンプレート構造の効果と分離不能
- H2（暗黙的 CoT）: 「論文形式が思考順序を強制」 → テンプレートの §1-§7 構造が強制しているのであって「論文」というラベルではない
- H3（ペルソナ効果）: 「研究者ペルソナの活性化」 → これは「論文」というラベルの効果として分離可能

3仮説のうち H3 のみが「論文形式」固有の効果として分離可能。H1 と H2 は構造化テンプレート一般の効果と区別できない。

**検証に必要な実験設計**:
```
条件A: 1行プロンプト（現 Before）
条件B: 「論文を書け」一言プロンプト（テンプレートなし）
条件C: 同一 §1-§7 構造を「設計文書」として指示
条件D: 同一 §1-§7 構造を「論文」として指示（現 After / PDD）
```

B vs A で「論文ラベル」の単独効果、D vs C で「ペルソナ効果」、C vs A で「構造化テンプレート」の効果が分離できる。現状は A vs D の比較しか存在しない。

**深掘り結論**: 交絡は深刻。ただし、論文は因果関係の検証は将来課題と明言しており（paper.md:162）、問題の本質は「因果の主張」ではなく「因果の示唆と相関の区別が曖昧」な点にある。

### 指摘 3 深掘り: Before プロンプトの弱さの影響度

Before プロンプトが弱いことによる影響を定量的に評価する。

comparison-data.md の主要な差分:
- 既存手法分析: 0 vs 5（Case1）, 3 vs 4（Case2）

Case2 では Before も3手法を比較している。これは Before プロンプトに要件リストが含まれており、やや構造化されているため。つまり、**プロンプトの構造度を少し上げるだけで差が縮まる**ことを示唆している。

Case1 の「0 vs 5」という劇的な差は、Before プロンプトが極端に短い（1行）ことに大きく依存している可能性が高い。

**深掘り結論**: 差分の大部分は「PDD の優秀さ」ではなく「Before の貧弱さ」に帰属する可能性がある。特に Case1 の数値は、PDD の効果を過大評価している疑いが強い。

### 指摘 4 深掘り: 実験条件の不整合の影響

不整合の具体的な影響を検証する。

- paper.md は「Claude で N=1」を前提に議論を組み立てている
- comparison-data.md は「o3 で N=2」のデータを提示している
- 両文書が同一リポジトリに存在し、相互参照なしに並置されている

読者が comparison-data.md の数値を paper.md の裏付けとして読むのは自然な解釈。しかし実際にはモデルが異なるため、paper.md の主張（Claude での観察）を comparison-data.md のデータ（o3 での計測）で裏付けることはできない。

逆に見ると、異なるモデルで類似の結果が出ていることは「多モデル再現性」の初期的エビデンスとも解釈できる。しかし、この解釈を活かすには実験条件の差異を明示する必要がある。

**深掘り結論**: 「不整合」を「多モデル再現性の予備的証拠」として積極的に位置づけ直すことで、弱点を強みに変換できる可能性がある。ただし、そのためには実験条件の明示が前提。

### 指摘 5 深掘り: 「答えの質は変わらない」の一般化

paper.md:198 の主張をさらに検証する。

両ケーススタディの問題特性:
- RAG 引用リナンバリング: 技術的に最適解が比較的明確（出現順採番）
- セッション管理: 業界標準のパターンが存在（短寿命 JWT + Redis）

いずれも「正解が1つに収束しやすい」問題。以下のような問題では結果が異なる可能性がある:
- 最適解が不明確な設計問題（マイクロサービス分割の粒度等）
- 複数の正解が存在するアーキテクチャ選定
- 要件自体の定義が曖昧な問題

**深掘り結論**: 主張は「明確な最適解がある技術的問題」に限定すべき。一般化は不当。

---

## Round 3: 再評価

### 再評価基準

各指摘を以下の3軸で再評価する:

1. **論理的妥当性**: 指摘自体が論理的に正しいか
2. **実際の影響度**: 読者・利用者にどの程度の誤解を与えるか
3. **修正可能性**: 修正がどの程度容易か

### 指摘別再評価

#### 指摘 1（循環論法）

- **論理的妥当性**: 高い。ただし「好意的解釈」（Round 2 で検討した2レイヤー説）を考慮すると、主張が完全に誤りとまでは言えない。問題は**主張とエビデンスの対応**にある。
- **実際の影響度**: 高い。学術論文として提出する場合、査読者がこの矛盾を指摘する可能性は極めて高い。ブログ記事としてはやや寛容に受け取られるが、「技術的厳密さ」を売りにする手法の紹介文書が自ら論理的厳密さを欠くのは信頼性を損なう。
- **修正可能性**: 中程度。2つの方向がある:
  - (a) 主張を修正: 「テンプレートなしでも出現する」→「テンプレートにより安定的に引き出せる」
  - (b) エビデンスを追加: テンプレートなしの「論文を書け」一言プロンプトの出力を Before/After の中間として提示
- **再判定**: **P0（最重要）**

#### 指摘 2（交絡因子の未分離）

- **論理的妥当性**: 高い。実験設計の本質的な限界。
- **実際の影響度**: 中〜高。学術論文としては重大な弱点。実用ツールとしての価値には影響しない（「理由はともかく効く」で実用上は十分）。
- **修正可能性**: 低い（追加実験が必要）。ただし、論文内での honest disclosure は容易。
- **再判定**: **P1（高優先）** — 論文の Limitations セクションで明示的に議論すべき。現在の §5.3 は表面的な制約（N=1、ハルシネーション等）を列挙するが、この根本的な交絡には触れていない。

#### 指摘 3（Before プロンプトの弱さ）

- **論理的妥当性**: 高い。comparison-data.md:88 が自ら認めている。
- **実際の影響度**: 高い。Before/After の比較表は読者の印象を最も強く規定するため、比較の公平性は決定的に重要。
- **修正可能性**: 中程度。
  - (a) Before プロンプトを強化した追加実験を行う
  - (b) 既存の比較に「Before プロンプトは最適化していない」注意書きを目立つ位置に追加
  - (c) comparison-data.md:88 の Threat を比較表の直前に移動
- **再判定**: **P1（高優先）**

#### 指摘 4（実験条件の不整合）

- **再判定**: **P1（高優先）** — Codex 監査と同じ結論。ただし Round 2 で検討した「多モデル再現性」への転換は価値がある。

#### 指摘 5（過剰な一般化）

- **論理的妥当性**: 高い。N=2 から一般的結論を導出するのは論理的に不正。
- **実際の影響度**: 中。「PDD は答えの質を向上させない」という主張は、実は PDD の控えめな自己評価として機能しており、誇大広告の逆方向のリスク。ただし、この控えめさ自体が不正確であれば、PDD の可能性を不当に過小評価することになる。
- **修正可能性**: 容易。"In our case studies" の限定句を追加するだけ。
- **再判定**: **P2（中優先）**

#### 指摘 6-11（Codex 監査と共通の指摘）

Codex 監査の再評価結果を概ね支持する。

- 指摘 6（主張強度）: **P1** — Codex と同じ
- 指摘 7（§6 記法）: **P2** — Codex と同じ
- 指摘 8（README リンク不完全）: **P2**
- 指摘 9（ロードマップ鮮度）: **P2** — Codex と同じ
- 指摘 10（行数カウント基準）: **P3** — Codex と同じ
- 指摘 11（参考文献種別）: **P3** — Codex と同じ

### 再評価後の優先順位

| 優先度 | 指摘 | 要約 |
|--------|------|------|
| **P0** | 1 | 循環論法: テンプレートが要求するものを「自然に出現」と主張 |
| **P1** | 2 | 交絡因子: 「論文形式」vs「構造化テンプレート」の効果が未分離 |
| **P1** | 3 | Before プロンプトの意図的な弱さ |
| **P1** | 4 | 実験条件の文書間不整合（モデル・N・時点） |
| **P1** | 6 | 主張強度と証拠強度の不釣り合い |
| **P2** | 5 | 「答えの質は変わらない」の過剰な一般化 |
| **P2** | 7 | §6 記法の不統一 |
| **P2** | 8 | README のリンク不完全 |
| **P2** | 9 | ロードマップの鮮度低下 |
| **P3** | 10 | 定量比較の行数カウント基準が未定義 |
| **P3** | 11 | 参考文献の種別混在 |

---

## Round 4: 最終確認

### 総点検

Round 1-3 の全指摘を再確認し、以下の追加観点で最終チェックを実施した。

**追加チェック 1: 見落としの確認**

- 著作権・帰属表示: サンプル出力が LLM 生成テキストであることは各ファイル冒頭で示されている（citation-rendering.md:3-4 等）。問題なし。
- ライセンス: MIT ライセンスが明示されている。問題なし。
- プラグインインストール手順: 動作検証は本監査のスコープ外だが、構文の一貫性は README.md と guide.md で統一されている。

**追加チェック 2: 肯定的評価の記録**

批判的監査に偏りすぎないよう、成果物の強みも明示する:

1. **問題設定の着眼点は独創的**: 「プロンプトの形式が LLM の分析品質に影響する」という観察は実務的に有用であり、体系化する価値がある。
2. **自己批判の姿勢は維持されている**: paper.md §5.3 と comparison-data.md の Threats to Validity は、多くの個人プロジェクトよりも honest disclosure が充実している。
3. **実用ツールとしての完成度**: SKILL.md のテンプレートは実際に使用可能な品質に達しており、サンプル2件も実践的な説得力がある。
4. **Before/After の提示**: 比較対象を提示する姿勢自体は、多くのツール紹介が欠いている透明性。

### 最終結論

#### 全体評価: B（内容は有用、論証構造に重大な改善余地）

**核心的な問題は1つに集約される**: 本プロジェクトの実際の貢献は「LLM の設計分析品質を安定的に引き出す構造化テンプレート」であるが、主張は「論文形式という魔法のフレーミング」として提示されている。この主張とエビデンスのずれが、他の多くの指摘（循環論法、交絡因子、Before の弱さ）の根本原因である。

主張を「構造化テンプレート + 論文的フレーミングの相乗効果」に修正し、テンプレートなしの比較条件を追加すれば、論証の大部分は解決する。

#### 推奨アクション（実行順）

**Phase 1: 論証構造の修正（P0/P1、即時対応）**

1. **主張のリフレーミング**
   - 対象: README.md, docs/guide.md, docs/note/article-draft.md, paper/paper-driven-dev.md
   - 変更: 「指示しなくても自然に出現する」→「論文形式のテンプレートが構造的に引き出す」
   - 「劇的に上がる」→「ケーススタディでは向上を観測した」

2. **交絡因子の明示的議論**
   - 対象: paper/paper-driven-dev.md §5.3
   - 追加: 「本研究は『論文形式の効果』と『構造化テンプレートの効果』を分離していない。H1-H3 のいずれが正しいかの検証には、テンプレート付き設計文書（非論文形式）との比較が必要である。」

3. **Before/After 比較への注意書き追加**
   - 対象: docs/examples/citation-rendering-comparison.md, docs/note/article-draft.md
   - 追加: 比較表の直前に「Before プロンプトは最適化していない。CoT やペルソナプロンプティングとの比較は将来課題」

4. **実験条件のメタデータ統一**
   - 対象: paper/paper-driven-dev.md, paper/comparison-data.md, docs/note/article-draft.md
   - 追加: 各文書冒頭に `Model`, `N`, `Language`, `Date`, `Evaluator` を明記

**Phase 2: エビデンスの補強（P1、次版対応）**

5. **テンプレートなしの中間条件追加**
   - 「この問題について学術論文の形式で書いてください」（テンプレートなし）の出力を取得し、Before/After の中間として提示
   - これにより「論文ラベル」の単独効果を分離できる

6. **Before プロンプトの強化版追加**
   - CoT + ペルソナ付きの conventional プロンプトで比較し、差分がどの程度縮まるかを検証

**Phase 3: 体裁・品質改善（P2/P3、次版対応）**

7. §6 記法の統一（citation-rendering.md を Given/When/Then に修正）
8. README.md のリンク・ロードマップ更新
9. 定量比較の集計ルール明文化
10. 参考文献の種別区分

#### Codex 監査との比較

| 観点 | Codex 監査 | 本監査 |
|------|-----------|--------|
| 全体評価 | B- | B |
| 指摘数 | 6 | 11 |
| 最重要指摘 | 実験条件の不整合 | 循環論法 |
| 独自発見 | — | 循環論法、交絡因子未分離、Before の弱さ、過剰一般化 |
| 焦点 | 表面的整合性（数値・表記・フォーマット） | 論証構造の妥当性 |
| 共通認識 | 主張強度と証拠強度の乖離が最重要課題 | 同意 |

両監査の指摘を統合すると、改善の方向性は明確である: **主張を実態に合わせて控えめにし、実験条件を明示し、比較の公平性を向上させる**。内容自体の実用的価値は高く、論証の修正により説得力が大幅に向上する。
